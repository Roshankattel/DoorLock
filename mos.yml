author: Roshan Kattel
description: Door unlock app
# arch: PLATFORM
version: 3.0
manifest_version: 2017-05-18
libs_version: 2.19.1
modules_version: 2.19.1
mongoose_os_version: 2.19.1

config_schema:
  - ["hardware", "o", {title: "Hardware pin mappings"}]
  - ["hardware.relayPin", "i", 5, {title: "relay pin for door unlock"}]
  - ["hardware.pulseTm", "i", 100, {title: "relay pin ontime"}]
  - ["hardware.relayStat", "b", true, {title: "initail status"}]
  - ["wifi.sta.enable", false]
  - ["wifi.ap.enable", true]
  - ["wifi.ap.ip", "192.168.4.1"]
  - ["wifi.ap.ssid", "Bruno_??????"]
  - ["wifi.ap.pass", "432FACC99A"]
  - ["dash.enable", true]
  - ["dash.token", "kibEjPIabF2xRIzFO4dqjQ"]

tags:
  - js

filesystem:
  - fs

libs:
  - location: https://github.com/mongoose-os-libs/boards
  - location: https://github.com/mongoose-os-libs/ca-bundle
  - location: https://github.com/mongoose-os-libs/rpc-service-config
  - location: https://github.com/mongoose-os-libs/rpc-service-fs
  - location: https://github.com/mongoose-os-libs/rpc-service-wifi
  - location: https://github.com/mongoose-os-libs/http-server
  - location: https://github.com/mongoose-os-libs/mjs
  - location: https://github.com/mongoose-os-libs/wifi
  - location: https://github.com/mongoose-os-libs/dash
  - location: https://github.com/mongoose-os-libs/rpc-common
  - location: https://github.com/mongoose-os-libs/rpc-service-ota

conds:
  - when: mos.platform == "ESP32"
    apply:
      build_vars:
        # Icrease app szie for ESP32
        APP_SLOT_SIZE: 0x190000
